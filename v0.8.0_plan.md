# LibreTerm v0.8.0 Plan (Organization & Migration)

**Goal:** Empower users to organize their connections efficiently and migrate data easily.

## 1. Drag & Drop Organization
*   **Feature:** Move connections between folders in the Sidebar using Drag & Drop.
*   **Implementation:**
    *   Handle `TVN_BEGINDRAG`.
    *   Implement `MouseMove` tracking with `ImageList_DragMove`.
    *   Handle `WM_LBUTTONUP` to re-parent the item in the data model and the TreeView.
    *   *Constraint:* Prevent dropping folders into folders (keep depth 1 for MVP simplicity) or allow nested folders.

## 2. Data Portability (Import/Export)
*   **Export:** Save all connections to a portable `connections.json` file.
*   **Import:** Load connections from a `json` file (merging with existing).
*   **UI:** Add "Import/Export" to the "File" menu.
*   **Library:** Use a simple single-header JSON library (e.g., `nlohmann/json` or `picojson`) or write a simple parser since our structure is flat/simple. *Decision: Write simple parser to keep zero-dependency.*

## 3. Quick Connect
*   **Feature:** A toolbar button or menu item to launch a connection immediately without saving it to the tree.
*   **UI:** A simplified dialog (Host, User, Port, Pass).
*   **Logic:** Calls `LaunchSession` with a temporary `Connection` object.

## 4. Sorting
*   **Feature:** Automatically sort folders and connections alphabetically.
*   **Implementation:** Use `TreeView_SortChildren` with a custom callback.

## 5. Technical Implementation Steps
1.  **Menu:** Add Import, Export, Quick Connect items.
2.  **Drag & Drop:** Implement the heavy lifting of Win32 TreeView Drag & Drop.
3.  **JSON:** Write a basic `Exporter` class in `ConnectionManager`.
